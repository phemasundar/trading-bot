/* Stitch Theme Variables - Extracted from Reference HTML */
:host,
:root {
    /* Colors from Tailwind Config */
    --stitch-primary: #197fe6;
    --stitch-primary-hover: #166cc4;
    --stitch-bg-dark: #0f151c;
    --stitch-surface-dark: #16202a;
    --stitch-surface-highlight: #1c2834;
    --stitch-border: #334155;
    /* slate-700 */
    --stitch-text-primary: #ffffff;
    --stitch-text-secondary: #94a3b8;
    /* slate-400 */
    --stitch-success: #10b981;
    --stitch-danger: #ef4444;
    --stitch-warning: #eab308;
    /* yellow-500 */

    /* Fonts */
    --lumo-font-family: 'Inter', sans-serif;

    /* Vaadin Overrides */
    --lumo-primary-color: var(--stitch-primary);
    --lumo-base-color: var(--stitch-bg-dark);
    --lumo-body-text-color: var(--stitch-text-primary);
    --lumo-header-text-color: var(--stitch-text-primary);
    --lumo-secondary-text-color: var(--stitch-text-secondary);
    --lumo-contrast-5pct: rgba(255, 255, 255, 0.05);
    --lumo-contrast-10pct: rgba(255, 255, 255, 0.1);
}

/* Global Background */
html,
body {
    background-color: var(--stitch-bg-dark) !important;
    font-family: 'Inter', sans-serif;
}

/* Header */
.header {
    height: 64px;
    background-color: var(--stitch-surface-dark);
    border-bottom: 1px solid var(--stitch-border);
    padding: 0 24px;
    box-sizing: border-box;
    display: flex;
    align-items: center;
}

/* Sidebar */
vaadin-app-layout::part(drawer) {
    width: 64px;
    background-color: var(--stitch-surface-dark);
    border-right: 1px solid var(--stitch-border);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 24px;
}

.sidebar-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--stitch-text-secondary);
    border-radius: 8px;
    margin-bottom: 16px;
    transition: all 0.2s;
    cursor: pointer;
}

.sidebar-icon:hover {
    background-color: var(--stitch-surface-highlight);
    color: var(--stitch-text-primary);
}

/* Strategy Configuration Panel */
.strategy-config-panel {
    background-color: var(--stitch-surface-dark);
    border-bottom: 1px solid var(--stitch-border);
    padding: 24px;
    margin-bottom: 24px;
}

.section-title {
    font-size: 1.25rem;
    /* text-xl */
    font-weight: 600;
    color: #fff;
    margin: 0;
}

.section-subtitle {
    font-size: 0.875rem;
    /* text-sm */
    color: var(--stitch-text-secondary);
    margin: 4px 0 0 0;
}

/* Custom Checkboxes (Pills) */
.strategy-selector {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-top: 16px;
}

.strategy-selector vaadin-checkbox {
    margin: 0 !important;
    background-color: var(--stitch-bg-dark);
    border: 1px solid var(--stitch-border);
    border-radius: 4px;
    /* Rounded per HTML `rounded` class, not full pill */
    padding: 6px 12px;
    transition: all 0.2s;
}

/* The reference HTML uses `rounded` (4px), not `rounded-full`. 
   "inline-flex items-center gap-2 px-3 py-1.5 rounded ... border" */

.strategy-selector vaadin-checkbox:hover {
    border-color: var(--stitch-primary);
}

.strategy-selector vaadin-checkbox[checked] {
    background-color: var(--stitch-surface-highlight);
    border-color: var(--stitch-primary);
}

.strategy-selector vaadin-checkbox::part(label) {
    font-size: 0.875rem;
    /* text-sm */
    font-weight: 500;
    color: var(--stitch-text-secondary);
    margin-left: 8px;
}

.strategy-selector vaadin-checkbox[checked]::part(label) {
    color: var(--stitch-text-primary);
}

/* Custom Checkbox Input Styling */
.strategy-selector vaadin-checkbox::part(checkbox) {
    border-radius: 2px;
    background-color: transparent;
    border: 1px solid var(--stitch-text-secondary);
    width: 16px;
    height: 16px;
}

.strategy-selector vaadin-checkbox[checked]::part(checkbox) {
    background-color: var(--stitch-primary);
    border-color: var(--stitch-primary);
}

/* Buttons */
.stitch-button-primary {
    background-color: var(--stitch-primary);
    color: #fff;
    font-weight: 500;
    border-radius: 8px;
    /* rounded-lg */
    box-shadow: 0 4px 6px -1px rgba(25, 127, 230, 0.25);
    border: none;
    height: 40px;
    padding: 0 24px;
}

.stitch-button-primary:hover {
    background-color: var(--stitch-primary-hover);
}

.stitch-button-secondary {
    color: var(--stitch-text-secondary);
    font-weight: 500;
    font-size: 0.75rem;
    /* text-xs */
    background: transparent;
    border: none;
    cursor: pointer;
}

.stitch-button-secondary:hover {
    color: var(--stitch-text-primary);
}

/* Results Card */
.strategy-card {
    background-color: var(--stitch-surface-dark);
    border: 1px solid var(--stitch-border);
    border-radius: 12px;
    /* rounded-xl */
    overflow: hidden;
    margin-bottom: 24px;
    margin-left: 24px;
    margin-right: 24px;
}

.strategy-card-header {
    background-color: var(--stitch-surface-dark);
    /* bg-slate-50 dark:bg-surface-dark */
    border-bottom: 1px solid var(--stitch-border);
    padding: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
}

.strategy-card-header:hover {
    background-color: var(--stitch-surface-highlight);
}

.card-title {
    font-size: 1.125rem;
    /* text-lg */
    font-weight: 700;
    color: #fff;
    margin: 0;
}

/* Grid/Table */
vaadin-grid {
    border: none;
    background-color: transparent;
    --vaadin-grid-header-cell-height: 48px;
    --vaadin-grid-body-cell-height: 56px;
    --vaadin-grid-body-row-hover-cell-background-color: rgba(255, 255, 255, 0.03);
}

vaadin-grid::part(header-cell) {
    background-color: #131b24;
    /* dark:bg-[#131b24] */
    color: var(--stitch-text-secondary);
    font-size: 0.75rem;
    /* text-xs */
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-bottom: 1px solid var(--stitch-border);
}

vaadin-grid::part(body-cell) {
    background-color: transparent;
    color: var(--stitch-text-secondary);
    /* Default text */
    font-size: 0.875rem;
    /* text-sm */
    border-bottom: 1px solid var(--stitch-border);
    font-family: 'Inter', sans-serif;
}

/* Specific Columns Styling */
.grid-ticker {
    color: #fff;
    font-weight: 700;
}

.grid-mono {
    font-family: monospace;
}

.grid-success {
    color: var(--stitch-success);
}

.grid-danger {
    color: var(--stitch-danger);
}

/* Badges */
.badge-success {
    background-color: rgba(16, 185, 129, 0.2);
    color: var(--stitch-success);
    border: 1px solid rgba(16, 185, 129, 0.2);
    border-radius: 4px;
    padding: 2px 8px;
    font-size: 0.75rem;
    font-weight: 700;
}

.badge-warning {
    background-color: rgba(234, 179, 8, 0.2);
    color: var(--stitch-warning);
    border: 1px solid rgba(234, 179, 8, 0.2);
    border-radius: 4px;
    padding: 2px 8px;
    font-size: 0.75rem;
    font-weight: 700;
}

/* Scrollbars */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--stitch-bg-dark);
}

::-webkit-scrollbar-thumb {
    background: #2d3b4e;
    border-radius: 4px;
}


/* Progress Bar / Scan Status */
.scan-status-container {
    background-color: rgba(25, 127, 230, 0.1);
    /* primary/10 */
    border-bottom: 1px solid rgba(25, 127, 230, 0.2);
    /* primary/20 */
    backdrop-filter: blur(4px);
    position: relative;
    z-index: 10;
}

.scan-progress-bar-bg {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background-color: var(--stitch-surface-highlight);
}

.scan-progress-bar-fill {
    height: 100%;
    background-color: var(--stitch-primary);
    position: relative;
    transition: width 1s ease-out;
}

.scan-progress-bar-glow {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 80px;
    background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.5));
}

.scan-status-content {
    max-width: 80rem;
    /* max-w-7xl */
    margin: 0 auto;
    padding: 16px 24px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.pulsing-dot {
    width: 8px;
    height: 8px;
    background-color: var(--stitch-primary);
    border-radius: 50%;
    animation: ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
}

@keyframes ping {

    75%,
    100% {
        transform: scale(2);
        opacity: 0;
    }
}

/* Empty State / No Trades */
.empty-state-container {
    padding: 48px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    background-color: rgba(15, 21, 28, 0.5);
    /* bg-[#0f151c]/50 */
}

.empty-state-icon-wrapper {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background-color: var(--stitch-surface-dark);
    border: 1px solid var(--stitch-border);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 16px;
}

.empty-state-icon {
    font-size: 32px;
    /* text-3xl */
    color: var(--stitch-text-secondary);
    /* slate-500 */
}

.empty-state-title {
    color: var(--stitch-text-primary);
    font-weight: 500;
    margin-bottom: 4px;
    font-size: 1rem;
}

.empty-state-description {
    font-size: 0.875rem;
    /* text-sm */
    color: var(--stitch-text-secondary);
    max-width: 28rem;
    /* max-w-md */
    margin: 0 auto;
}

/* Global Layout Fixes */
html,
body {
    overflow-x: hidden;
}

/* Ensure CheckboxGroup flexes correctly */
vaadin-checkbox-group {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
}

/* Grid Styling Updates */
vaadin-grid::part(cell) {
    padding: 12px 16px;
    font-size: 14px;
    align-items: center;
}

vaadin-grid::part(header-cell) {
    background-color: var(--stitch-surface-dark);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-size: 0.75rem;
    color: var(--stitch-text-secondary);
    padding: 12px 16px;
}

/* Progress Bar Text */
.scan-status-text {
    color: var(--stitch-primary);
    font-weight: 500;
}

.scan-status-subtext {
    color: var(--stitch-text-secondary);
    font-size: 0.875rem;
    margin-left: 12px;
}

.scan-timer-label {
    color: var(--stitch-text-secondary);
    font-size: 0.875rem;
}

.scan-timer-value {
    color: var(--stitch-text-primary);
    font-weight: 600;
    font-family: monospace;
}

/* Fix Details/Arrow */
vaadin-details::part(summary-content) {
    width: 100%;
    display: flex;
    align-items: center;
}

vaadin-details::part(toggle) {
    color: var(--stitch-text-secondary);
    margin-right: 8px;
}

/* Utility Classes from Tailwind */
.max-w-7xl {
    max-width: 80rem;
}

.mx-auto {
    margin-left: auto;
    margin-right: auto;
}

.gap-3 {
    gap: 0.75rem;
}

/* Strategy Pills Gap */
vaadin-checkbox-group::part(group-field) {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
}

/* Fix Horizontal Scrollbar */
body,
html {
    overflow-x: hidden;
}

.main-view-container {
    overflow-x: hidden;
}

/* Grid Row Styling */
vaadin-grid::part(row) {
    padding-top: 1rem;
    padding-bottom: 1rem;
}

vaadin-grid::part(header-cell) {
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    color: var(--stitch-text-secondary);
}

/* Mono Font for Grid Cells */
.grid-mono {
    font-family: 'Roboto Mono', monospace;
}

/* Hide duplicate run button if strictly necessary for some states */
.execution-panel .stitch-button-primary {
    display: none;
}

/* --- New Design Refinements (Round 2) --- */

/* Rotation Animation for Expand/Collapse Icon */
.rotate-icon {
    transition: transform 0.3s ease;
}

/* Shimmer Animation */
@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

.shimmer {
    background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%);
    background-size: 200% 100%;
    animation: shimmer 2s infinite linear;
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
}

/* Card Hover Effects */
.strategy-card {
    transition: all 0.2s ease-in-out;
    position: relative;
    overflow: hidden;
}

.strategy-card:hover {
    border-color: var(--stitch-primary);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

/* Collapsible Content Transition */
.collapsible-content {
    transition: max-height 0.3s ease-in-out;
}

/* Icon Button */
.stitch-icon-button {
    color: var(--stitch-text-secondary);
    background: transparent;
}

.stitch-icon-button:hover {
    color: var(--stitch-text-primary);
    background-color: rgba(255, 255, 255, 0.05);
}

/* Strategy Header Params */
.strategy-params-text {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 400px;
    display: block;
}